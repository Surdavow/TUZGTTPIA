[gd_scene load_steps=54 format=3 uid="uid://dl8aieroxhs4p"]

[ext_resource type="Script" path="res://scripts/Player.cs" id="1_3xn0t"]
[ext_resource type="PackedScene" uid="uid://ct0vdg7drup5y" path="res://assets/models/character_default.glb" id="2_o11wm"]
[ext_resource type="AudioStream" uid="uid://d1uikjs1ps0my" path="res://assets/audio/footsteps/rubber_03.wav" id="2_ulng7"]
[ext_resource type="AudioStream" uid="uid://dvyahtj4gnmdc" path="res://assets/audio/footsteps/rubber_04.wav" id="3_4asll"]
[ext_resource type="Animation" uid="uid://dfyf34w4xcbwu" path="res://assets/models/res/idle_happy.res" id="3_87oo2"]
[ext_resource type="Animation" uid="uid://0n3nqxes8nxg" path="res://assets/models/res/default.res" id="3_o32pt"]
[ext_resource type="Animation" uid="uid://dhdoe2a7jbppk" path="res://assets/models/res/fall_idle1.res" id="4_4baeu"]
[ext_resource type="AudioStream" uid="uid://c5nt0rb75b1hy" path="res://assets/audio/footsteps/rubber_05.wav" id="4_mkina"]
[ext_resource type="AudioStream" uid="uid://c04qlb6mpnto0" path="res://assets/audio/footsteps/rubber_06.wav" id="5_8ahj2"]
[ext_resource type="Animation" uid="uid://dklx5x8tpicl8" path="res://assets/models/res/fall_idle2.res" id="5_w8gfn"]
[ext_resource type="AudioStream" uid="uid://80y6aaqnl42n" path="res://assets/audio/footsteps/rubber_07.wav" id="6_6nhui"]
[ext_resource type="Animation" uid="uid://dj41v1jmewyki" path="res://assets/models/res/fall_land.res" id="6_k5juc"]
[ext_resource type="Animation" uid="uid://c55thodsdw11j" path="res://assets/models/res/idle.res" id="7_4frb8"]
[ext_resource type="Animation" uid="uid://s3j262b4cwvf" path="res://assets/models/res/jump.res" id="8_7vam4"]
[ext_resource type="Animation" uid="uid://cditdcng66xja" path="res://assets/models/res/punch1.res" id="9_b3r8q"]
[ext_resource type="Animation" uid="uid://70d0d3hfvjuq" path="res://assets/models/res/punch2.res" id="10_3cl1h"]
[ext_resource type="Animation" uid="uid://buvjqgeoef3k2" path="res://assets/models/res/punch3.res" id="11_5u2cq"]
[ext_resource type="Animation" uid="uid://lleaeqgoe3r2" path="res://assets/models/res/run_backward.res" id="12_21vje"]
[ext_resource type="Animation" uid="uid://3fcymxpfu4ob" path="res://assets/models/res/run_forward.res" id="13_gjtst"]
[ext_resource type="Animation" uid="uid://d1p0xsv13evky" path="res://assets/models/res/run_left.res" id="14_uubdq"]
[ext_resource type="Animation" uid="uid://dj8anh75t1fxm" path="res://assets/models/res/run_right.res" id="15_f2ko1"]
[ext_resource type="Animation" uid="uid://b2cicq06f4e4g" path="res://assets/models/res/walk_backward.res" id="16_emsb6"]
[ext_resource type="Animation" uid="uid://crhkpj0xt1fkp" path="res://assets/models/res/walk_forward.res" id="17_b1mrf"]
[ext_resource type="Animation" uid="uid://bgdimm4ykkoex" path="res://assets/models/res/walk_left.res" id="18_wuiug"]
[ext_resource type="Animation" uid="uid://brk4qobyfoca4" path="res://assets/models/res/walk_right.res" id="19_5bnlu"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ysdxm"]
radius = 0.35
height = 1.8

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_a3hhe"]
random_pitch = 2.0
streams_count = 5
stream_0/stream = ExtResource("2_ulng7")
stream_0/weight = 1.0
stream_1/stream = ExtResource("3_4asll")
stream_1/weight = 1.0
stream_2/stream = ExtResource("4_mkina")
stream_2/weight = 1.0
stream_3/stream = ExtResource("5_8ahj2")
stream_3/weight = 1.0
stream_4/stream = ExtResource("6_6nhui")
stream_4/weight = 1.0

[sub_resource type="AnimationLibrary" id="AnimationLibrary_e04qa"]
_data = {
"default": ExtResource("3_o32pt"),
"fall_idle1": ExtResource("4_4baeu"),
"fall_idle2": ExtResource("5_w8gfn"),
"fall_land": ExtResource("6_k5juc"),
"idle": ExtResource("7_4frb8"),
"idle_happy": ExtResource("3_87oo2"),
"jump": ExtResource("8_7vam4"),
"punch1": ExtResource("9_b3r8q"),
"punch2": ExtResource("10_3cl1h"),
"punch3": ExtResource("11_5u2cq"),
"run_backward": ExtResource("12_21vje"),
"run_forward": ExtResource("13_gjtst"),
"run_left": ExtResource("14_uubdq"),
"run_right": ExtResource("15_f2ko1"),
"walk_backward": ExtResource("16_emsb6"),
"walk_forward": ExtResource("17_b1mrf"),
"walk_left": ExtResource("18_wuiug"),
"walk_right": ExtResource("19_5bnlu")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_81k2s"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ksno1"]
animation = &"run_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8ed5c"]
animation = &"run_forward"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_e582b"]
animation = &"run_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_oqi2h"]
animation = &"run_backward"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_y8yck"]
animation = &"walk_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lihjr"]
animation = &"walk_forward"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xiecc"]
animation = &"walk_backward"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mrvgb"]
animation = &"walk_left"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_0x1rm"]
blend_point_0/node = SubResource("AnimationNodeAnimation_81k2s")
blend_point_0/pos = Vector2(0, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_ksno1")
blend_point_1/pos = Vector2(-1, 0)
blend_point_2/node = SubResource("AnimationNodeAnimation_8ed5c")
blend_point_2/pos = Vector2(0, 1)
blend_point_3/node = SubResource("AnimationNodeAnimation_e582b")
blend_point_3/pos = Vector2(1, 0)
blend_point_4/node = SubResource("AnimationNodeAnimation_oqi2h")
blend_point_4/pos = Vector2(0, -1)
blend_point_5/node = SubResource("AnimationNodeAnimation_y8yck")
blend_point_5/pos = Vector2(0.5, 0)
blend_point_6/node = SubResource("AnimationNodeAnimation_lihjr")
blend_point_6/pos = Vector2(0, 0.5)
blend_point_7/node = SubResource("AnimationNodeAnimation_xiecc")
blend_point_7/pos = Vector2(0, -0.5)
blend_point_8/node = SubResource("AnimationNodeAnimation_mrvgb")
blend_point_8/pos = Vector2(-0.5, 0)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_giw8d"]
animation = &"fall_idle1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_f56er"]
animation = &"fall_land"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_oqcsu"]
animation = &"jump"

[sub_resource type="Curve" id="Curve_ajy1w"]
_data = [Vector2(0, 0), 0.0, 0.808687, 0, 0, Vector2(0.45, 0.495379), 2.54431, 2.54431, 0, 0, Vector2(0.693, 1.055), 0.708953, 0.708953, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_sftaa"]
xfade_time = 0.25
xfade_curve = SubResource("Curve_ajy1w")
switch_mode = 1
advance_mode = 2
advance_condition = &"isJumping"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_iq727"]
advance_mode = 2

[sub_resource type="Curve" id="Curve_dbn30"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.5975, 0.509082), 2.34757, 2.34757, 0, 0, Vector2(0.765, 0.931644), 1.35581, 1.35581, 0, 0, Vector2(1, 1), -0.331422, 0.0, 0, 0]
point_count = 4

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_d1tdc"]
xfade_time = 0.5
xfade_curve = SubResource("Curve_dbn30")
switch_mode = 1
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ywnj0"]
xfade_time = 0.25
switch_mode = 1
advance_mode = 2

[sub_resource type="Curve" id="Curve_t6125"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.456311, 0.795749), 1.96548, 1.96548, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_nw5nn"]
xfade_time = 0.15
xfade_curve = SubResource("Curve_t6125")
switch_mode = 1
advance_mode = 2
advance_condition = &"isGrounded"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_37eb0"]
xfade_time = 0.38
switch_mode = 1
advance_mode = 2
advance_condition = &"isFalling"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_lchy2"]
resource_local_to_scene = true
resource_name = "Locomotion"
allow_transition_to_self = true
reset_ends = true
states/End/position = Vector2(683, 41)
states/Locomotion/node = SubResource("AnimationNodeBlendSpace2D_0x1rm")
states/Locomotion/position = Vector2(378, 100)
states/Start/position = Vector2(223, 100)
states/fall_idle1/node = SubResource("AnimationNodeAnimation_giw8d")
states/fall_idle1/position = Vector2(691, 121)
states/fall_land/node = SubResource("AnimationNodeAnimation_f56er")
states/fall_land/position = Vector2(557, 148)
states/jump/node = SubResource("AnimationNodeAnimation_oqcsu")
states/jump/position = Vector2(557, 55)
transitions = ["Locomotion", "jump", SubResource("AnimationNodeStateMachineTransition_sftaa"), "Start", "Locomotion", SubResource("AnimationNodeStateMachineTransition_iq727"), "fall_land", "Locomotion", SubResource("AnimationNodeStateMachineTransition_d1tdc"), "jump", "fall_idle1", SubResource("AnimationNodeStateMachineTransition_ywnj0"), "fall_idle1", "fall_land", SubResource("AnimationNodeStateMachineTransition_nw5nn"), "Locomotion", "fall_idle1", SubResource("AnimationNodeStateMachineTransition_37eb0")]
graph_offset = Vector2(-172, -191)

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_gqgla"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_kfu2t"]
graph_offset = Vector2(-345.22, 70.32)
nodes/MainStates/node = SubResource("AnimationNodeStateMachine_lchy2")
nodes/MainStates/position = Vector2(60, 180)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_gqgla")
nodes/TimeScale/position = Vector2(220, 180)
nodes/output/position = Vector2(360, 180)
node_connections = [&"TimeScale", 0, &"MainStates", &"output", 0, &"TimeScale"]

[node name="Player" type="CharacterBody3D"]
collision_layer = 2
script = ExtResource("1_3xn0t")
canJump = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)
shape = SubResource("CapsuleShape3D_ysdxm")

[node name="CameraMountThirdPerson" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.325, 1.65, 0)

[node name="SpringArm3D" type="SpringArm3D" parent="CameraMountThirdPerson"]
transform = Transform3D(1, 0, 0, 0, 0.999996, 0, 0, 0, 0.999999, 0, 0, 0)
spring_length = 0.6
margin = 0.25

[node name="Camera3D" type="Camera3D" parent="CameraMountThirdPerson/SpringArm3D"]
transform = Transform3D(1, -3.84859e-11, -2.33968e-10, 3.84861e-11, 1, -4.97779e-20, 2.33968e-10, 4.07733e-20, 1, 0, 0, 0)
doppler_tracking = 2
current = true
fov = 90.0

[node name="CharacterLookNode" type="Node3D" parent="CameraMountThirdPerson"]
transform = Transform3D(1, 0, 0, -6.70556e-23, 1, 1.05879e-22, 0, 0, 1, 0, 0, -2.413)

[node name="SoundPlayer3D" type="AudioStreamPlayer3D" parent="."]

[node name="SoundPlayerFootsteps3D" type="AudioStreamPlayer3D" parent="."]
stream = SubResource("AudioStreamRandomizer_a3hhe")
unit_size = 0.5
max_db = 1.0
doppler_tracking = 2

[node name="character_default" parent="." instance=ExtResource("2_o11wm")]

[node name="Skeleton3D" parent="character_default/default_rig" index="0"]
process_thread_group = 1
process_thread_group_order = 0
process_thread_messages = 2
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)
bones/0/position = Vector3(-0.00267047, 0.989775, 0.00450041)
bones/0/rotation = Quaternion(-0.0337401, -0.0461621, -0.0258602, 0.998029)
bones/1/rotation = Quaternion(-0.0282458, 0.0149612, 0.0248584, 0.99918)
bones/2/rotation = Quaternion(0.0103517, 0.0021864, 0.0143655, 0.999841)
bones/3/rotation = Quaternion(0.0676105, 0.00332367, 0.0142814, 0.997604)
bones/3/scale = Vector3(1, 1, 1)
bones/4/rotation = Quaternion(0.0532205, -0.00209727, 0.00311097, 0.998576)
bones/5/rotation = Quaternion(-0.0740651, 0.00697739, -0.00151355, 0.997228)
bones/6/rotation = Quaternion(-0.599766, -0.432971, 0.50825, -0.441021)
bones/6/scale = Vector3(1, 1, 1)
bones/7/rotation = Quaternion(0.543156, 0.179214, 0.205874, 0.794028)
bones/7/scale = Vector3(1, 1, 1)
bones/8/position = Vector3(2.79688e-08, 0.274047, -7.50351e-08)
bones/8/rotation = Quaternion(-8.27971e-08, 6.79086e-07, 0.0135431, 0.999908)
bones/9/rotation = Quaternion(0.0461018, -0.284398, 0.0278003, 0.957194)
bones/10/rotation = Quaternion(0.209861, -0.0595621, 0.207505, 0.9536)
bones/10/scale = Vector3(1, 1, 1)
bones/11/rotation = Quaternion(-0.142713, 0.086596, -0.240535, 0.956178)
bones/12/rotation = Quaternion(-0.121023, -0.0755413, 0.0240541, 0.989479)
bones/13/rotation = Quaternion(0.0662173, 0.000732991, 0.008431, 0.997769)
bones/14/rotation = Quaternion(0.150997, -1.45812e-07, -0.0154738, 0.988413)
bones/15/rotation = Quaternion(0.0700826, -1.01855e-07, -0.00718167, 0.997515)
bones/16/rotation = Quaternion(0.136531, -0.00383619, -0.0229524, 0.990362)
bones/17/rotation = Quaternion(0.151256, -9.89392e-08, -0.0155001, 0.988373)
bones/18/rotation = Quaternion(0.159931, -1.01437e-07, -0.0163894, 0.986992)
bones/19/rotation = Quaternion(0.183251, -0.00465342, -0.0314552, 0.982552)
bones/20/rotation = Quaternion(0.181388, 2.69953e-08, -0.0185882, 0.983236)
bones/21/rotation = Quaternion(0.155211, -1.74549e-07, -0.0159056, 0.987753)
bones/22/rotation = Quaternion(0.233868, -0.00350581, -0.0490088, 0.971026)
bones/22/scale = Vector3(1, 1, 1)
bones/23/rotation = Quaternion(0.151257, -1.74444e-07, -0.0155005, 0.988373)
bones/23/scale = Vector3(1, 1, 1)
bones/24/rotation = Quaternion(0.143499, 3.71795e-08, -0.0147052, 0.989541)
bones/25/rotation = Quaternion(0.604184, -0.430211, 0.522885, 0.420085)
bones/25/scale = Vector3(1, 1, 1)
bones/26/rotation = Quaternion(0.463176, -0.26483, -0.228577, 0.814301)
bones/27/rotation = Quaternion(-8.25478e-08, -3.68141e-07, -0.0578282, 0.998327)
bones/28/rotation = Quaternion(0.0545538, 0.177672, -0.0038106, 0.982569)
bones/29/rotation = Quaternion(0.213785, 0.0653725, -0.225648, 0.948212)
bones/30/rotation = Quaternion(-0.1441, -0.0761707, 0.277208, 0.946884)
bones/31/rotation = Quaternion(-0.1552, 0.0746789, -0.0260452, 0.984712)
bones/32/rotation = Quaternion(0.0595129, -0.000991323, -0.0109757, 0.998167)
bones/33/rotation = Quaternion(0.151287, 1.3527e-07, 0.0123243, 0.988413)
bones/34/rotation = Quaternion(0.0702187, 3.60328e-09, 0.00572, 0.997515)
bones/35/rotation = Quaternion(0.130514, 0.00368989, 0.0189222, 0.991259)
bones/36/rotation = Quaternion(0.151546, 6.38982e-08, 0.0123453, 0.988373)
bones/37/rotation = Quaternion(0.160239, 1.4036e-07, 0.0130536, 0.986992)
bones/38/rotation = Quaternion(0.177452, 0.0045017, 0.0264591, 0.983763)
bones/39/rotation = Quaternion(0.181735, 1.7393e-07, 0.0148046, 0.983236)
bones/40/rotation = Quaternion(0.155511, -1.11966e-08, 0.0126684, 0.987753)
bones/41/rotation = Quaternion(0.228494, 0.0034029, 0.0429809, 0.97259)
bones/42/rotation = Quaternion(0.151547, 1.38927e-07, 0.0123456, 0.988373)
bones/43/rotation = Quaternion(0.143774, 1.98821e-08, 0.0117121, 0.989541)
bones/44/rotation = Quaternion(0.13131, 0.0698773, 0.984477, -0.0931709)
bones/44/scale = Vector3(1, 1, 1)
bones/45/rotation = Quaternion(-0.13284, -1.35002e-06, -1.86525e-07, 0.991137)
bones/46/rotation = Quaternion(0.536374, -0.031625, -0.00649222, 0.843363)
bones/46/scale = Vector3(1, 1, 1)
bones/47/rotation = Quaternion(0.269319, -0.0323767, -0.0145899, 0.962396)
bones/48/rotation = Quaternion(-0.121977, -0.0206252, 0.992239, -0.0125627)
bones/48/scale = Vector3(1, 1, 1)
bones/49/rotation = Quaternion(-0.0847321, 9.81003e-07, 1.00822e-07, 0.996404)
bones/50/rotation = Quaternion(0.572536, 0.0488613, -0.0488711, 0.816962)
bones/50/scale = Vector3(1, 1, 1)
bones/51/rotation = Quaternion(0.287328, 0.0318995, 0.0141138, 0.957197)
bones/51/scale = Vector3(1, 1, 1)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="character_default/default_rig/Skeleton3D" index="2"]
transform = Transform3D(0.997712, -0.0577485, -0.0351654, 0.0581886, 0.998238, 0.0116246, 0.0344321, -0.0136442, 0.999314, -0.0146136, 1.58555, 0.0149942)
bone_name = "mixamorig_Head"
bone_idx = 5

[node name="crosshairLight" type="SpotLight3D" parent="character_default/default_rig/Skeleton3D/BoneAttachment3D"]
transform = Transform3D(-0.99749, -0.0607469, 0.0363836, -0.0615325, 0.997887, -0.0208738, -0.0350387, -0.0230602, -0.99912, 0.00499563, 0.0946062, 0.194948)
light_energy = 25.0
shadow_enabled = true
spot_angle = 1.0

[node name="AnimationPlayer" parent="character_default" index="1"]
deterministic = true
playback_default_blend_time = 0.5

[node name="AnimationTree" type="AnimationTree" parent="character_default"]
libraries = {
"": SubResource("AnimationLibrary_e04qa")
}
tree_root = SubResource("AnimationNodeBlendTree_kfu2t")
anim_player = NodePath("../AnimationPlayer")
parameters/MainStates/conditions/isFalling = false
parameters/MainStates/conditions/isGrounded = true
parameters/MainStates/conditions/isJumping = false
parameters/MainStates/Locomotion/blend_position = Vector2(0, 0)
parameters/TimeScale/scale = 1.0

[editable path="character_default"]
